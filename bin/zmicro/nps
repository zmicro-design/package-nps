#!/bin/bash

help() {
  echo "Usage:"
  echo "  zmicro nps <client|server> <args ...>"
  echo ""
}

core() {
  if [ "$1" = "-h" ] || [ "$1" = "--help" ] || [ "$1" = "" ]; then
    help
    exit 0
  fi

  local type=$1
  local args=${@:2}

  if [ "$type" = "client" ]; then
    npc $args
  elif [ "$type" = "server" ]; then
    nps $args
  else
    log::error "unknown type: $type"
    help
    exit 1
  fi
}

run() {
  core $@
}

run $@
